@if (showForm) {
<section class="d-flex justify-content-center align-items-center text-primary" style="height: calc(100vh - 135px);">
  <div class="border-2 border-info rounded-4 p-4 pt-4 bg-success m-3">
    <h2 class="font2 fw-semibold">Registro</h2>
    <br>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" novalidate>
      <div class="row mb-3">
        <div class="col">
          <label class="form-label">Usuario</label>
          <input type="text" class="form-control" formControlName="username"
            [ngClass]="{ 'is-invalid': username?.invalid && username?.touched }">
          <div class="invalid-feedback" *ngIf="username?.touched && username?.invalid">
            <div *ngIf="username?.errors?.['required']">El nombre es obligatorio</div>
            <div *ngIf="username?.errors?.['minlength']">El nombre debe tener al menos 3 caracteres
            </div>
            <div *ngIf="username?.errors?.['maxlength']">El nombre no puede superar los 15
              caracteres</div>
          </div>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" formControlName="email"
            [ngClass]="{ 'is-invalid': email?.invalid && email?.touched }">
          <div class="invalid-feedback" *ngIf="email?.touched && email?.invalid">
            <div *ngIf="email?.errors?.['required']">El correo es obligatorio</div>
            <div *ngIf="email?.errors?.['pattern']">El email debe ser gmail.com</div>
          </div>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col">
          <label class="form-label">Contraseña</label>
          <div class="input-group">
            <input id="password" [type]="showPassword ? 'text' : 'password'" class="form-control"
              formControlName="password" [ngClass]="{ 'is-invalid': password?.invalid && password?.touched }" />
            <button class="btn btn-outline-secondary bg-primary border-0" type="button" (click)="togglePassword()"
              aria-label="Mostrar u ocultar contraseña">
              <i class="fa-solid" [ngClass]="showPassword ? 'fa-eye' : 'fa-eye-slash'"></i>
            </button>
          </div>
          <div class="invalid-feedback d-block" *ngIf="password?.touched && password?.invalid">
            <div *ngIf="password?.errors?.['required']">La contraseña es obligatoria</div>
            <div *ngIf="password?.errors?.['maxlength']">La contraseña no puede superar los 24
              caracteres</div>
            <div *ngIf="password?.errors?.['pattern']">
              La contraseña debe contener al menos 3 letras minúsculas, 2 mayúsculas, 1 número y 1 carácter especial
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col">
          <label class="form-label">Primer Apellido</label>
          <input type="text" class="form-control" formControlName="apellido1"
            [ngClass]="{ 'is-invalid': apellido1?.invalid && apellido1?.touched }">
          <div class="invalid-feedback" *ngIf="apellido1?.touched && apellido1?.invalid">
            <div *ngIf="apellido1?.errors?.['required']">El primer apellido es obligatorio</div>
            <div *ngIf="apellido1?.errors?.['maxlength']">El primer apellido no puede superar los 20
              caracteres</div>
          </div>
        </div>

        <div class="col">
          <label class="form-label">Segundo Apellido</label>
          <input type="text" class="form-control" formControlName="apellido2"
            [ngClass]="{ 'is-invalid': apellido2?.invalid && apellido2?.touched }">
          <div class="invalid-feedback" *ngIf="apellido2?.touched && apellido2?.invalid">
            <div *ngIf="apellido2?.errors?.['maxlength']">El segundo apellido no puede superar los
              20 caracteres</div>
          </div>
        </div>
      </div>

      <div class="row mb-3">
        <div class="col">
          <label class="form-label">Teléfono</label>
          <input type="text" class="form-control" formControlName="telefono"
            [ngClass]="{ 'is-invalid': telefono?.invalid && telefono?.touched }">
          <div class="invalid-feedback" *ngIf="telefono?.touched && telefono?.invalid">
            <div *ngIf="telefono?.errors?.['required']">El teléfono es obligatorio</div>
            <div *ngIf="telefono?.errors?.['pattern']">El teléfono debe tener 9
              caracteres</div>
          </div>
        </div>

        <div class="col">
          <label class="form-label">Dirección</label>
          <input type="text" class="form-control" formControlName="direccion"
            [ngClass]="{ 'is-invalid': direccion?.invalid && direccion?.touched }">
          <div class="invalid-feedback" *ngIf="direccion?.touched && direccion?.invalid">
            <div *ngIf="direccion?.errors?.['required']">La dirección es obligatoria</div>
          </div>
        </div>
      </div>

      <div class="form-check d-flex align-items-center">
        <input class="form-check-input" type="checkbox" id="privacy" formControlName="privacy" />
        <label class="form-check-label ms-2 mb-0 mt-1" for="privacy">
          Confirmo que se me ha info rmado sobre la
          <a href="#" class="text-light">Política de Privacidad</a>.
        </label>
      </div>

      <div class="form-check d-flex align-items-center">
        <input class="form-check-input" type="checkbox" id="terms_conditions" formControlName="terms_conditions" />
        <label class="form-check-label ms-2 mb-0 mt-1" for="terms_conditions">
          He leído y acepto los
          <a href="#" class="text-light">Términos y Condiciones</a>.
        </label>
      </div>

      <div class="form-group mt-4">
        <button class="btn btn-primary btn-block" type="submit" [disabled]="registerForm.invalid">Registrar</button>
      </div>

      <hr>

      <a [routerLink]="'/login'" class="text-decoration-none text-primary text-start d-block mt-3">
        ¿Ya tienes una cuenta? Inicia sesión aquí
      </a>

    </form>

  </div>
</section>
}
